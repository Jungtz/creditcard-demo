(function(e){function t(t){for(var r,c,i=t[0],d=t[1],o=t[2],u=0,m=[];u<i.length;u++)c=i[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&m.push(n[c][0]),n[c]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(e[r]=d[r]);l&&l(t);while(m.length)m.shift()();return s.push.apply(s,o||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,i=1;i<a.length;i++){var d=a[i];0!==n[d]&&(r=!1)}r&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var r={},n={app:0},s=[];function c(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=r,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(a,r,function(t){return e[t]}.bind(null,r));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var l=d;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2671:function(e,t,a){"use strict";a("c506")},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[e._v(" https://github.com/muhammed/interactive-card/tree/main "),t("div",[t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.cardImage,expression:"cardImage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.cardImage)?e._i(e.cardImage,null)>-1:e.cardImage},on:{change:function(t){var a=e.cardImage,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=null,c=e._i(a,s);r.checked?c<0&&(e.cardImage=a.concat([s])):c>-1&&(e.cardImage=a.slice(0,c).concat(a.slice(c+1)))}else e.cardImage=n}}}),e._v(" 顯示卡片 ")]),t("br"),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.cardHolder,expression:"cardHolder"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.cardHolder)?e._i(e.cardHolder,null)>-1:e.cardHolder},on:{change:function(t){var a=e.cardHolder,r=t.target,n=!!r.checked;if(Array.isArray(a)){var s=null,c=e._i(a,s);r.checked?c<0&&(e.cardHolder=a.concat([s])):c>-1&&(e.cardHolder=a.slice(0,c).concat(a.slice(c+1)))}else e.cardHolder=n}}}),e._v(" 顯示持卡人 ")]),t("br"),t("label",{staticClass:"pr-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",name:"lang",value:"tw"},domProps:{checked:e._q(e.lang,"tw")},on:{change:function(t){e.lang="tw"}}}),e._v(" TW ")]),t("label",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],attrs:{type:"radio",name:"lang",value:"en"},domProps:{checked:e._q(e.lang,"en")},on:{change:function(t){e.lang="en"}}}),e._v(" EN ")]),t("br"),t("label",[e._v(" background "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.background,expression:"background"}],domProps:{value:e.background},on:{input:function(t){t.target.composing||(e.background=t.target.value)}}})]),t("br"),t("label",[e._v(" NOTE "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.note,expression:"note"}],domProps:{value:e.note},on:{input:function(t){t.target.composing||(e.note=t.target.value)}}})])]),t("hr"),t("CreditCard",{attrs:{card:e.data,lang:e.lang,"show-card":e.cardImage,"show-holder":e.cardHolder,background:e.background},scopedSlots:e._u([e.note?{key:"note",fn:function(){return[e._v(" "+e._s(e.note)+" ")]},proxy:!0}:null],null,!0)}),t("hr"),e._v(" "+e._s(e.data)+" ")],1)},s=[],c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"card-form"},[e.showCard?t("div",{staticClass:"card-list"},[t("div",{staticClass:"card-item",class:{"-active":e.isCardFlipped}},[t("div",{staticClass:"card-item__side -front"},[t("div",{ref:"focusElement",staticClass:"card-item__focus",class:{"-active":e.focusElementStyle},style:e.focusElementStyle}),t("div",{staticClass:"card-item__cover",style:{background:e.background}},[e.currentCardBackground?t("img",{staticClass:"card-item__bg",attrs:{src:e.currentCardBackground}}):e._e()]),t("div",{staticClass:"card-item__wrapper"},[t("div",{staticClass:"card-item__top"},[t("img",{staticClass:"card-item__chip",attrs:{src:a("b422")}}),t("div",{staticClass:"card-item__type",class:[e.getCardType]})]),t("label",{ref:"cardNumber",staticClass:"card-item__number",attrs:{for:"cardNumber"}},["amex"===e.getCardType?e._l(e.amexCardMask,(function(a,r){return t("span",{key:r},[t("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<14&&e.card.number.length>r&&""!==a.trim()?t("div",{staticClass:"card-item__numberItem"},[e._v("*")]):e.card.number.length>r?t("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(" "+e._s(e.card.number[r])+" ")]):t("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(e._s(a))])])],1)})):e._l("dinersclub14"===e.getCardType?e.dinersclub14CardMask:e.otherCardMask,(function(a,r){return t("span",{key:r},[t("transition",{attrs:{name:"slide-fade-up"}},[r>4&&r<15&&e.card.number.length>r&&""!==a.trim()?t("div",{staticClass:"card-item__numberItem"},[e._v("*")]):e.card.number.length>r?t("div",{key:r,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(" "+e._s(e.card.number[r])+" ")]):t("div",{key:r+1,staticClass:"card-item__numberItem",class:{"-active":""===a.trim()}},[e._v(e._s(a))])])],1)}))],2),t("div",{staticClass:"card-item__content"},[e.showHolder?t("label",{ref:"cardName",staticClass:"card-item__info",attrs:{for:"cardName"}},[t("div",{staticClass:"card-item__holder"},[e._v(e._s(e.Dict.card_holder))]),t("transition",{attrs:{name:"slide-fade-up"}},[e.card.name.length?t("div",{key:"1",staticClass:"card-item__name"},[t("transition-group",{attrs:{name:"slide-fade-right"}},[e._l(e.card.name.replace(/\s\s+/g," "),(function(a,r){return[r===r?t("span",{key:r+1,staticClass:"card-item__nameItem"},[e._v(e._s(a))]):e._e()]}))],2)],1):t("div",{key:"2",staticClass:"card-item__name"},[e._v("＊＊＊＊＊")])])],1):e._e(),t("div",{ref:"cardDate",staticClass:"card-item__date"},[t("label",{staticClass:"card-item__dateTitle",attrs:{for:"cardMonth"}},[e._v(e._s(e.Dict.expires))]),t("label",{staticClass:"card-item__dateItem",attrs:{for:"cardMonth"}},[t("transition",{attrs:{name:"slide-fade-up"}},[e.card.month?t("span",{key:e.card.month},[e._v(e._s(e.card.month))]):t("span",{key:"2"},[e._v("MM")])])],1),e._v(" / "),t("label",{staticClass:"card-item__dateItem",attrs:{for:"cardYear"}},[t("transition",{attrs:{name:"slide-fade-up"}},[e.card.year?t("span",{key:e.card.year},[e._v(e._s(String(e.card.year).slice(2,4)))]):t("span",{key:"2"},[e._v("YY")])])],1)])])])]),t("div",{staticClass:"card-item__side -back"},[t("div",{staticClass:"card-item__cover",style:{background:e.background}},[e.currentCardBackground?t("img",{staticClass:"card-item__bg",attrs:{src:e.currentCardBackground}}):e._e()]),t("div",{staticClass:"card-item__band"}),t("div",{staticClass:"card-item__cvv"},[t("div",{staticClass:"card-item__cvvTitle"},[e._v(" "+e._s(e.Dict.cvv)+" ")]),t("div",{staticClass:"card-item__cvvBand"},e._l(e.card.cvv,(function(a,r){return t("span",{key:r},[e._v("*")])})),0),t("div",{staticClass:"card-item__type",class:[e.getCardType]})])])])]):e._e(),t("div",[e._t("note")],2),t("div",{staticClass:"card-form__inner"},[t("div",{staticClass:"card-input"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardNumber"}},[e._v(e._s(e.Dict.card_number))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.number,expression:"card.number"},{name:"mask",rawName:"v-mask",value:e.generateCardNumberMask,expression:"generateCardNumberMask"}],staticClass:"card-input__input",attrs:{id:"cardNumber",type:"text","data-ref":"cardNumber",autocomplete:"off"},domProps:{value:e.card.number},on:{focus:e.focusInput,blur:e.blurInput,input:function(t){t.target.composing||e.$set(e.card,"number",t.target.value)}}})]),e.showHolder?t("div",{staticClass:"card-input"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardName"}},[e._v(e._s(e.Dict.card_holder))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.name,expression:"card.name"}],staticClass:"card-input__input",attrs:{id:"cardName",type:"text","data-ref":"cardName",autocomplete:"off"},domProps:{value:e.card.name},on:{focus:e.focusInput,blur:e.blurInput,input:function(t){t.target.composing||e.$set(e.card,"name",t.target.value)}}})]):e._e(),t("div",{staticClass:"card-form__row"},[t("div",{staticClass:"card-form__col"},[t("div",{staticClass:"card-form__group"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardMonth"}},[e._v(e._s(e.Dict.expires))]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.card.month,expression:"card.month"}],staticClass:"card-input__input -select",attrs:{id:"cardMonth","data-ref":"cardDate"},on:{focus:e.focusInput,blur:e.blurInput,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.card,"month",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" "+e._s(e.Dict.month)+" ")]),e._l(12,(function(a){return t("option",{key:a,attrs:{disabled:a<e.minCardMonth},domProps:{value:e.parseOptionItem(a)}},[e._v(" "+e._s(e.parseOptionItem(a))+" ")])}))],2),t("select",{directives:[{name:"model",rawName:"v-model",value:e.card.year,expression:"card.year"}],staticClass:"card-input__input -select",attrs:{id:"cardYear","data-ref":"cardDate"},on:{focus:e.focusInput,blur:e.blurInput,change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.card,"year",t.target.multiple?a:a[0])}}},[t("option",{attrs:{value:"",disabled:"",selected:""}},[e._v(" "+e._s(e.Dict.year)+" ")]),e._l(12,(function(a,r){return t("option",{key:a,domProps:{value:r+e.minCardYear}},[e._v(" "+e._s(r+e.minCardYear)+" ")])}))],2)])]),t("div",{staticClass:"card-form__col -cvv"},[t("div",{staticClass:"card-input"},[t("label",{staticClass:"card-input__label",attrs:{for:"cardCvv"}},[e._v(e._s(e.Dict.cvv))]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.card.cvv,expression:"card.cvv"},{name:"mask",rawName:"v-mask",value:"amex"===e.getCardType?"####":"###",expression:"getCardType==='amex'?'####':'###'"}],staticClass:"card-input__input",attrs:{id:"cardCvv",type:"text",maxlength:"amex"===e.getCardType?4:3,autocomplete:"off"},domProps:{value:e.card.cvv},on:{focus:function(t){return e.flipCard(!0)},blur:function(t){return e.flipCard(!1)},input:function(t){t.target.composing||e.$set(e.card,"cvv",t.target.value)}}})])])])])])])},i=[],d={tw:{card_holder:"持卡人姓名",expires:"期限",card_number:"信用卡卡號",cvv:"檢查碼 (CVV)",year:"西元年",month:"月"},en:{card_holder:"Card Holder",expires:"Expiration Date",card_number:"Card Number",cvv:"CVV",year:"Year",month:"Month"}},o=(a("5b81"),a("14d9"),{inserted(e,t,a,r){let n=e;function s(e){let t=[];const a=["#","A","N"],{type:r,input:n,mask:s}=e;if(["deleteContentBackward","deleteContentForward"].includes(r)||!s)return window.backup_maskInput=n.split(""),n;const c=s.match(/^\/([\S\s]*)\/$/),i=c&&new RegExp(s)instanceof RegExp;if(i){const e=s.slice(1,-1),a=(""+n).match(new RegExp(e,"g"));a?(t=a,window.backup_maskInput=a):t=window.backup_maskInput||[]}else{const e=(""+n).replaceAll(/\W/g,""),r=s.split(""),c=s.replaceAll(/[^#|^A|^N]/g,"").length;let i="";i=e.length<=c?e:e.substring(0,c);let d=0;i.split("").forEach((e,n)=>{const s=r[n+d];a.includes(s)||(d+=1,t.push(s)),t.push(e)})}return t.join("")}["INPUT","TEXTAREA"].includes(n.nodeName)||(n=e.querySelector("input")||e.querySelector("textarea")),n&&(n.addEventListener("input",e=>{const r=s({type:e.inputType,input:e.target.value,mask:t.value});e.target.value=r,window.maskInputDispatchEventDebounce&&clearTimeout(window.maskInputDispatchEventDebounce),window.maskInputDispatchEventDebounce=setTimeout(()=>{e.target.dispatchEvent(new Event("input")),delete window.maskInputDispatchEventDebounce},100);const n=[...a.context.value||[]];a.context.dataResult=n}),n.addEventListener("blur",e=>{e.target.value=e.target.value.trim();const r=s({type:e.inputType,input:e.target.value,mask:t.value});e.target.value=r,e.target.dispatchEvent(new Event("input")),delete window.backup_maskInput;const n=[...a.context.value||[]];a.context.dataResult=n}))}});const l={name:"CreditCard",directives:{mask:o},props:{lang:{type:String,default:"tw"},showCard:{type:Boolean,default(){return!0}},showHolder:{type:Boolean,default(){return!0}},background:{type:String,default:"#1c1d27"},card:{type:Object,default(){return{name:"",number:"",month:"",year:"",cvv:"",type:""}}}},data(){return{cards:[{name:"Amex Card",key:"amex",reg:"^3[47][0-9]{0,13}"},{name:"Diners Club Card",key:"dinersclub",reg:"^3(?:0[0-5]|[68][0-9])[0-9]{12}"},{name:"Diners Club Card (14 digit card)",key:"dinersclub14",reg:"^3(?:0[0-5]|[68][0-9])[0-9]{0,11}"},{name:"JCB Card",key:"jcb",reg:"^(?:2131|1800|35\\d{3})\\d{11}"},{name:"Discover Card",key:"discover",reg:"^65[4-9][0-9]{13}|64[4-9][0-9]{13}|6011[0-9]{12}|(622(?:12[6-9]|1[3-9][0-9]|[2-8][0-9][0-9]|9[01][0-9]|92[0-5])[0-9]{10})"},{name:"Mastercard",key:"mastercard",reg:"^(5[1-5][0-9]{14}|2(22[1-9][0-9]{12}|2[3-9][0-9]{13}|[3-6][0-9]{14}|7[0-1][0-9]{13}|720[0-9]{12}))"},{name:"Union Pay",key:"unionpay",reg:"^(62[0-9]{14,17})"},{name:"Visa Card",key:"visa",reg:"^4[0-9]{12}(?:[0-9]{3})"}],currentCardBackground:"",minCardYear:(new Date).getFullYear(),amexCardMask:"#### ###### #####",dinersclub14CardMask:"#### #### #### ##",otherCardMask:"#### #### #### ####",cardNumberTemp:"",isCardFlipped:!1,focusElementStyle:null,isInputFocused:!1}},computed:{Dict(){return d[this.lang]},getCardType(){const e=this.card.number.replace(/\s/g,"");let t="";for(const a in this.cards){const r=this.cards[a],n=new RegExp(r.reg);if(null!=e.match(n)){t=r.key;break}}return t},generateCardNumberMask(){switch(this.getCardType){case"amex":return this.amexCardMask;case"dinersclub14":return this.dinersclub14CardMask;default:return this.otherCardMask}},minCardMonth(){return this.card.year===this.minCardYear?(new Date).getMonth()+1:1}},watch:{"card.year":function(){this.card.month<this.minCardMonth&&(this.card.month="")},"card.number":function(){this.card.type=this.getCardType}},mounted(){this.cardNumberTemp=this.otherCardMask,document.getElementById("cardNumber").focus()},methods:{parseOptionItem(e){return e<10?"0"+e:e},flipCard(e){this.isCardFlipped=e},focusInput(e){this.isInputFocused=!0;const t=e.target.dataset.ref,a=this.$refs[t];a&&(this.focusElementStyle={width:a.offsetWidth+"px",height:a.offsetHeight+"px",transform:`translateX(${a.offsetLeft}px) translateY(${a.offsetTop}px)`})},blurInput(){const e=this;setTimeout(()=>{e.isInputFocused||(e.focusElementStyle=null)},300),e.isInputFocused=!1}}},u=()=>{Object(r["b"])((e,t)=>({f864d7f0:e.background}))},m=l.setup;l.setup=m?(e,t)=>(u(),m(e,t)):u;var p=l,v=p,_=(a("2671"),a("2877")),g=Object(_["a"])(v,c,i,!1,null,"13c065b8",null),f=g.exports,b={name:"App",components:{CreditCard:f},data(){return{background:"#1c1d27",cardImage:!0,cardHolder:!0,lang:"tw",note:"",data:{name:"",number:"",month:"",year:"",cvv:"",type:""}}},computed:{},mounted(){},methods:{}},h=b,C=(a("fdad"),Object(_["a"])(h,n,s,!1,null,"51de93c8",null)),y=C.exports;r["a"].config.productionTip=!1,new r["a"]({render:e=>e(y)}).$mount("#app"),r["a"].prototype.$clone=function(e){return JSON.parse(JSON.stringify(e))}},b422:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAtCAYAAADydghMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxEAAAsRAX9kX5EAAAJmSURBVGhD7Zo/SFVRHMfvS9OKxFx0kKASLAoyLIc2M3AKAhMaHIIaImgrMHB3CHGKhiCKVsUcpKlBcFCIBmtoKKgh0Ar7QyEG1evzvfceeT3u0jkHfR7PBz6cP8Ljfd99z3t+59xSuVxOKtiLndicjrY+n/ANrqUjqAw8iLfxYDoKA4V7iddxThMm8DmcwF34B3+jLTuwDvXCvzSxidRjCb/gGVxMCNyAz1HM4gHUvK03Ucxj0d83Sl3M4/gKxSSWdDVa8BiKYXyXdbc8+oa9wNF0lCSncLcC67I3agY+5G1ImEzKWKfA24oYOHRi4NCJgUNHq5F22vfZMLmMrvfiAbyCC3haE5aokOnFQ+hyYY7gVVzGzurAPnEJ3I2P8ChqLeyDwsAr6FI4iD2oq2MbuA2f4X78ga/RpQhRqauSNw2sRXY7Gg5jo6O3UNgWDzdQrGAXphWdg/0olrCp+rfx04OuJeHJvH2Mi7hesPugFv9LN+Tt97z1SrwPh04MHDoxcOjEwKGz7QJXFw/38FvWtaYHVdbZFg+TeAF1EnJHE47o/YxhzZaHJrBvCgM/xdWsa00H6iTDNbBO/Fzfi9iJTVhYHrqeK0nXsyWdAYm7uM+DAygKy8NaQqXmVw9qE2GdeFsKnRg4dGLg0DGBzc6gHkYJDZMpzajAWs181gDO5m0o6NSiL+umz2ytaWmpyQd4CbU1eh/fou1+sD6086iHY8Y18Z/ofOsEzuKUJixRLr3OEGrrdwRHFZg2acUnaDbBQ2MGL+KqCSx0BnMN+/N+CHzEaXyIWqr+8+hhJb5O7DabqnBJ8heR6Nc6TMmTYQAAAABJRU5ErkJggg=="},bda0:function(e,t,a){},c506:function(e,t,a){},fdad:function(e,t,a){"use strict";a("bda0")}});
//# sourceMappingURL=app.adb8cf56.js.map